extends layout


block content
    div
        label Reservation
        center
            label Spécifier si vous shouaiter une confirmations par SMS en plus de la confirmation par email

        table
            tbody
                form(action ='/user/reservation/' , method='POST')
                    tr(width='33%')
                        td
                            label(for='idlastname',width='33%') lastname
                        td
                            input(type='text', id='idlastname', name='lastname', placeholder='Type your Lastname here', required=true)

                        td
                            label(for='idfirstname',width='33%') firstname
                        td
                            input(type='text', id='idfirstname', name='firstname', placeholder='Type your Firstname here', required=true)



                    tr(width='33%')
                        td
                            label(for='idGroupName',width='33%') GroupName
                        td
                            input(type='text', id='idGroupName', name='groupName', placeholder='Type your GroupName here')
                        td
                            label(for='idBikeNumber') Bike Number
                        td
                            input(type='number', id='idBikeNumber',name='bikeNumber', placeholder='Type your BikeNumber here', required=true)
                    tr(width='33%')
                        td
                            label(for='idTelephon',width='33%') Telephon
                        td
                            input(type='text', id='idTelephon', name='telephone', placeholder='Type your telephone number here')
                    tr(width='33%')
                        td
                            label(for='idMail') Mail
                        td
                            input(type='text', id='idMail',name='mail', placeholder='Type your Mail here', required=true)

                    tr(width='33%')
                        td
                            label(for='idRemarqus',width='33%') Remarqus
                        td
                            input(type='text', id='idRemarqus', name='remarks', placeholder='Type your remarqus if you have')


                    tr(width='33%')
                        td
                            input(hidden=true,type='text', name='from' value=journeys.from)
                            input(hidden=true,type='text', name='date' value=journeys.departure.substring(0, 10))
                            input(hidden=true,type='text', name='time' value=journeys.departure.substring(10,16))
                            input(hidden=true,type='text', name='to' value=journeys.to)
                            input(hidden=true,type='text', name='journeys' value=journeys)
                            button(type ='Submit') send reservation



        br
    div
        label Résumer de réservation

            table
                tbody
                    tr
                        td
                            p #{journeys.departure.substring(0, 10)}
                        td
                            p  #{journeys.from}
                        td
                            p #{journeys.departure.substring(10,16)}
                        td
                            p   #{journeys.duration/60} min
                        td
                            p #{journeys.to}
                        td
                            p #{journeys.arrival.substring(10,16)}

                    each legs in journeys.legs
                        if(legs.stops != null)
                            tr
                                td
                                    p #{legs.line}
                                td
                                    p #{legs.departure.substring(10,16)}
                                td
                                    p #{legs.name}
                                each stop in legs.stops
                                    td
                                        p  #{stop.name}
                                td
                                    p #{legs.exit.name}
                                td
                                    p #{legs.exit.arrival.substring(10,16)}
